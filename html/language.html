<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Language</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../css/css.css">
</head>
<body>
  <nav class="fixed left-0 top-0 z-50 w-full border-b border-brand-line/70 bg-brand-paper/80 backdrop-blur-xl">
    <div class="relative mx-auto flex w-full max-w-7xl flex-nowrap items-center justify-between gap-4 px-5 py-5 md:px-10">
      <a href="html.html" class="group inline-flex items-center gap-2 font-display text-xl font-bold tracking-tight text-brand-bronze">
        <span class="relative">
          dar lbenna
          <span class="pointer-events-none absolute -bottom-1 left-0 h-px w-0 bg-brand-accent/80 transition-all duration-500 group-hover:w-full"></span>
        </span>
        <span class="text-sm text-brand-accent">â˜…</span>
      </a>

      <div class="hidden flex-1 items-center justify-center md:flex">
        <div class="flex w-full max-w-2xl items-center justify-center gap-6">
          <a href="html.html" class="relative whitespace-nowrap text-sm tracking-wide text-brand-ink/90 transition-colors duration-300 hover:text-brand-primary" data-i18n="nav.back_home">Back home</a>
          <span class="h-px w-10 bg-brand-line/80"></span>
          <span class="relative whitespace-nowrap text-sm font-semibold tracking-wide text-brand-ink/90" data-i18n="lang.title">Language</span>
        </div>
      </div>
    </div>
  </nav>

  <main class="mt-[110px] bg-brand-paper pb-16">
    <div class="mx-auto w-full max-w-3xl px-5 md:px-10">
      <div class="border border-brand-line/70 bg-white p-6 shadow-soft">
        <div class="text-xs font-semibold uppercase tracking-[0.28em] text-brand-muted" data-i18n="lang.subtitle">Choose language</div>
        <h1 class="mt-3 font-display text-4xl font-bold tracking-tight text-brand-ink" data-i18n="lang.heading">English / Arabic</h1>
        <p class="mt-3 text-sm leading-relaxed text-brand-muted" data-i18n="lang.desc">This will switch UI language on all pages.</p>

        <div class="mt-6 grid gap-4">
          <label class="text-xs font-semibold uppercase tracking-[0.22em] text-brand-muted" data-i18n="lang.select">Select language</label>
          <select id="langSelect" data-lang-select class="w-full border border-brand-line/80 bg-white px-4 py-3 text-sm text-brand-ink outline-none focus:border-brand-accent">
            <option value="en">ðŸ‡¬ðŸ‡§ English</option>
            <option value="fr">ðŸ‡«ðŸ‡· FranÃ§ais</option>
            <option value="ar">ðŸ‡²ðŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
          </select>
        </div>

        <div class="mt-6 border border-brand-line/70 bg-brand-cream px-4 py-3 text-sm text-brand-muted">
          <span data-i18n="lang.current">Current:</span>
          <span id="currentLang" class="font-semibold text-brand-ink">â€”</span>
        </div>
      </div>
    </div>
  </main>

  <script src="../javascript/lang.js"></script>
  <script>
    (function(){
      const curEl = document.getElementById('currentLang');
      const sel = document.getElementById('langSelect');

      function render(){
        const v = (window.dtGetLang ? window.dtGetLang() : (localStorage.getItem('dt_lang') || 'en')).toString().trim().toLowerCase();
        const safe = (v === 'ar' || v === 'fr' || v === 'en') ? v : 'en';
        if (sel) sel.value = safe;
        if(curEl) curEl.textContent = safe === 'ar' ? 'ðŸ‡²ðŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' : (safe === 'fr' ? 'ðŸ‡«ðŸ‡· FranÃ§ais' : 'ðŸ‡¬ðŸ‡§ English');
      }

      if(sel) sel.addEventListener('change', () => {
        const v = String(sel.value || 'en').toLowerCase();
        if(window.dtSetLang) window.dtSetLang(v);
        else localStorage.setItem('dt_lang', (v === 'ar' || v === 'fr' || v === 'en') ? v : 'en');
        render();

        window.setTimeout(() => {
          window.location.href = 'html.html';
        }, 120);
      });

      render();
    })();
  </script>
</body>
</html>
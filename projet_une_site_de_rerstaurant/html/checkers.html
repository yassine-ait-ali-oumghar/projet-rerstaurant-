<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dar lbenna - Checkers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .auth-hidden { display: none; }
        .ui-pill {
            position: relative;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            border: 1px solid rgba(212, 196, 168, 0.95);
            background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.84));
            color: rgba(43, 33, 6, 0.92);
            box-shadow: 0 18px 40px rgba(61,47,10,0.10);
            transition: transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease, background 220ms ease;
            backdrop-filter: blur(10px);
        }
        .ui-pill:hover {
            transform: translateY(-2px);
            border-color: rgba(212, 175, 55, 0.85);
            box-shadow: 0 22px 60px rgba(61,47,10,0.16);
        }
        .ui-pill:active { transform: translateY(0); }
        .ui-pill::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 9999px;
            background: linear-gradient(115deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.20) 40%, rgba(255,255,255,0) 70%);
            transform: translateX(-120%);
            transition: transform 420ms ease;
            pointer-events: none;
            mix-blend-mode: overlay;
        }
        .ui-pill:hover::before { transform: translateX(120%); }

        #resetFx {
            position: fixed;
            inset: 0;
            z-index: 9999;
            display: none;
            pointer-events: none;
            overflow: hidden;
        }
        #resetFx.is-on { display: block; }
        #resetFx .fx-dim {
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 62% 34%, rgba(212, 175, 55, 0.22), rgba(139, 105, 20, 0.18) 18%, rgba(61, 47, 10, 0.82) 62%, rgba(16, 12, 3, 0.94) 100%),
                linear-gradient(180deg, rgba(250, 248, 243, 0.04), rgba(0,0,0,0));
            opacity: 0;
            animation: fxDim 1050ms ease forwards;
        }
        #resetFx .fx-shake {
            position: absolute;
            inset: 0;
            animation: fxShake 1050ms ease forwards;
        }
        #resetFx .fx-fire {
            position: absolute;
            left: -30%;
            top: 0;
            width: 160%;
            height: 100%;
            background:
                radial-gradient(closest-side at 20% 50%, rgba(212,175,55,0.50), rgba(212,175,55,0) 60%),
                radial-gradient(closest-side at 45% 48%, rgba(139,105,20,0.58), rgba(139,105,20,0) 68%),
                radial-gradient(closest-side at 70% 52%, rgba(61,47,10,0.70), rgba(61,47,10,0) 70%),
                linear-gradient(90deg, rgba(212,175,55,0.0), rgba(212,175,55,0.34), rgba(139,105,20,0.34), rgba(61,47,10,0.0));
            transform: translateX(-120%) skewX(-18deg);
            filter: blur(8px);
            opacity: 0.92;
            animation: fxFire 1050ms ease forwards;
        }
        #resetFx .fx-flash {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 52% 50%, rgba(250,248,243,0.55), rgba(250,248,243,0) 70%);
            opacity: 0;
            animation: fxFlash 1050ms ease forwards;
        }
        #resetFx .fx-runes {
            position: absolute;
            inset: 0;
            display: grid;
            place-items: center;
            opacity: 0;
            animation: fxRunes 1050ms ease forwards;
        }
        #resetFx .fx-runes span {
            padding: 12px 18px;
            border: 1px solid rgba(212, 175, 55, 0.55);
            background: rgba(61,47,10,0.22);
            color: rgba(244, 208, 63, 0.95);
            font-weight: 700;
            letter-spacing: 0.55em;
            text-indent: 0.55em;
            text-transform: uppercase;
            box-shadow: 0 24px 80px rgba(0,0,0,0.35);
        }

        @keyframes fxDim {
            0% { opacity: 0; }
            12% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }
        @keyframes fxFire {
            0% { transform: translateX(-120%) skewX(-18deg); }
            25% { transform: translateX(0%) skewX(-18deg); }
            68% { transform: translateX(0%) skewX(-18deg); }
            100% { transform: translateX(140%) skewX(-18deg); }
        }
        @keyframes fxFlash {
            0% { opacity: 0; }
            20% { opacity: 0.65; }
            40% { opacity: 0.12; }
            100% { opacity: 0; }
        }
        @keyframes fxShake {
            0% { transform: translateX(0); }
            18% { transform: translateX(-1.5px); }
            30% { transform: translateX(1.5px); }
            46% { transform: translateX(-1px); }
            64% { transform: translateX(1px); }
            100% { transform: translateX(0); }
        }
        @keyframes fxRunes {
            0% { opacity: 0; transform: translateY(10px) scale(0.98); }
            18% { opacity: 1; transform: translateY(0) scale(1); }
            65% { opacity: 1; }
            100% { opacity: 0; transform: translateY(-8px) scale(1.02); }
        }

        .ck-square {
            width: 52px;
            height: 52px;
            display: grid;
            place-items: center;
            user-select: none;
        }
        .ck-square[data-selected="true"] {
            outline: 2px solid rgba(212,175,55,0.95);
            outline-offset: -2px;
        }
        .ck-square[data-move="true"] {
            box-shadow: inset 0 0 0 2px rgba(139,105,20,0.35);
        }
        .ck-square[data-capture="true"] {
            box-shadow: inset 0 0 0 2px rgba(180, 70, 60, 0.55);
        }

        .ck-piece {
            width: 36px;
            height: 36px;
            border-radius: 9999px;
            box-shadow: inset 0 0 0 2px rgba(0,0,0,0.18), 0 10px 18px rgba(0,0,0,0.12);
            display: grid;
            place-items: center;
            font-weight: 900;
            letter-spacing: 0.2em;
            text-indent: 0.2em;
            text-transform: uppercase;
        }
        .ck-piece.white {
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.98), rgba(250,248,243,0.90));
            color: rgba(61,47,10,0.9);
        }
        .ck-piece.black {
            background: radial-gradient(circle at 30% 30%, rgba(61,47,10,0.98), rgba(20,15,4,0.95));
            color: rgba(244,208,63,0.95);
        }
        .ck-piece.king {
            box-shadow: inset 0 0 0 2px rgba(212,175,55,0.55), 0 12px 20px rgba(0,0,0,0.16);
        }
    </style>
</head>
<body class="min-h-screen bg-brand-paper font-sans text-brand-ink">
    <nav class="sticky top-0 z-40 border-b border-brand-line/80 bg-white/85 backdrop-blur">
        <div class="mx-auto flex w-full max-w-7xl items-center justify-between px-5 py-4 md:px-10">
            <a href="mini-games.html" class="group inline-flex items-center gap-3">
                <span class="font-display text-xl font-bold tracking-tight text-brand-ink">dar lbenna</span>
                <span class="relative">
                    Checkers
                    <span class="pointer-events-none absolute -bottom-1 left-0 h-px w-0 bg-brand-accent/80 transition-all duration-500 group-hover:w-full"></span>
                </span>
            </a>
            <div class="flex items-center gap-3">
                <a href="mini-games.html" class="ui-pill rounded-full"><span class="text-xs font-semibold uppercase tracking-[0.22em]">Back</span></a>
                <button id="ckReset" type="button" class="border border-brand-line/80 bg-brand-cream px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] text-brand-ink transition-all duration-300 hover:-translate-y-0.5 hover:border-brand-accent">Reset</button>
            </div>
        </div>
    </nav>

    <div id="resetFx" aria-hidden="true">
        <div class="fx-dim"></div>
        <div class="fx-shake">
            <div class="fx-fire"></div>
            <div class="fx-flash"></div>
            <div class="fx-runes"><span>RESET</span></div>
        </div>
    </div>

    <main class="mx-auto w-full max-w-7xl px-5 py-10 md:px-10">
        <div class="flex flex-col gap-3">
            <div class="text-xs font-semibold uppercase tracking-[0.32em] text-brand-primary">Mini games</div>
            <h1 class="font-display text-4xl font-bold tracking-tight text-brand-ink">Checkers</h1>
            <p class="max-w-2xl text-sm leading-relaxed text-brand-muted">Real checkers: diagonal moves, forced captures, multi-jumps, kings.</p>
        </div>

        <div class="mt-10 grid gap-8 lg:grid-cols-[540px_1fr]">
            <section class="border border-brand-line/80 bg-white p-7 shadow-soft">
                <div class="flex items-start justify-between gap-4">
                    <div>
                        <div class="text-xs font-semibold uppercase tracking-[0.22em] text-brand-muted">Board</div>
                        <div class="mt-2 text-sm text-brand-muted">Turn: <span id="ckTurn" class="font-semibold text-brand-ink">White</span></div>
                    </div>
                    <button id="ckNew" type="button" class="border border-brand-line/80 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] text-brand-ink transition-all duration-300 hover:-translate-y-0.5 hover:border-brand-accent">New game</button>
                </div>

                <div class="mt-6 border border-brand-line/80 bg-brand-paper p-4">
                    <div id="ckBoard" class="mx-auto grid w-full max-w-[416px] grid-cols-8 overflow-hidden border border-brand-line/80"></div>
                </div>
            </section>

            <section class="border border-brand-line/80 bg-white p-7 shadow-soft">
                <div class="text-xs font-semibold uppercase tracking-[0.22em] text-brand-muted">Status</div>
                <div class="mt-3 grid gap-2 rounded-md border border-brand-line/80 bg-brand-paper px-5 py-4 text-sm">
                    <div class="flex flex-wrap items-center justify-between gap-2">
                        <div class="font-semibold">Selected:</div>
                        <div id="ckSelected" class="text-brand-muted">—</div>
                    </div>
                    <div class="flex flex-wrap items-center justify-between gap-2">
                        <div class="font-semibold">Rule:</div>
                        <div id="ckRule" class="font-semibold text-brand-bronze">—</div>
                    </div>
                    <div class="flex flex-wrap items-center justify-between gap-2">
                        <div class="font-semibold">Winner:</div>
                        <div id="ckWinner" class="font-semibold text-brand-bronze">—</div>
                    </div>
                </div>
                <div class="mt-6 text-sm text-brand-muted">
                    Tip: If a capture is available, you must capture. If you can capture again with the same piece, you must continue.
                </div>
            </section>
        </div>
    </main>
    <script src="../javascript/checkers.js"></script>
</body>
</html>
